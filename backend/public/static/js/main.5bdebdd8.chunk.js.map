{"version":3,"sources":["cmps/app-header-user.jsx","cmps/app-header.jsx","cmps/user-msg.jsx","store/actions/general.actions.js","services/storage.service.js","services/auth.service.js","store/actions/user.actions.js","cmps/toy-sort.jsx","services/toy.service.js","cmps/toy-filter.jsx","cmps/toy-label-list.jsx","cmps/toy-actions.jsx","cmps/toy-preview.jsx","cmps/toy-list.jsx","store/reducers/toy.reducer.js","store/actions/toy.actions.js","pages/toy-app.jsx","cmps/toy-review-list.jsx","cmps/popup.jsx","cmps/chat-app.jsx","pages/toy-details.jsx","services/util.service.js","pages/toy-dashboard.jsx","pages/about.jsx","pages/sign-up.jsx","pages/login.jsx","cmps/toy-add-edit-form.jsx","pages/toy-add.jsx","pages/toy-edit.jsx","root-cmp.jsx","store/reducers/general.reducer.js","store/reducers/user.reducer.js","store/store.js","index.js"],"names":["AppHeaderUser","props","user","onLogout","className","to","Button","firstName","isAdmin","onClick","AppHeader","useSelector","state","userModule","size","UserMsg","userMsg","msg","isError","isOpen","hideUserMsg","Snackbar","open","autoHideDuration","onClose","elevation","variant","severity","showUserMsg","dispatch","type","storageService","saveToStorage","key","data","sessionStorage","setItem","JSON","stringify","loadFromStorage","getItem","parse","removeFromStorage","removeItem","axios","Axios","create","withCredentials","authService","signup","login","logout","a","post","BASE_URL","_saveToStorage","res","email","password","_removeFromStorage","setUser","ToySort","sort","useState","anchorEl","setAnchorEl","onSortField","field","setTimeout","endIcon","event","currentTarget","Menu","id","keepMounted","Boolean","MenuItem","toyService","getToys","getToyById","remove","update","getAllLabels","gLabels","getToysLabelMap","toys","reduce","map","toy","labels","forEach","label","hasOwnProperty","getToysYearMap","year","Date","createdAt","getFullYear","criteria","get","params","delete","put","_id","ToyFilter","isExpanded","handleChange","ev","target","name","value","onSetFilter","handleLabelChange","onToggleFilter","setState","prevState","this","allLabels","filter","inStock","InputBase","onChange","placeholder","fullWidth","startIcon","TextField","select","options","isMulti","Component","ToyLabelList","style","gap","flexWrap","padding","idx","Chip","ToyActions","onToyClick","onToyEdit","onRemoveToy","IconButton","ToyPreview","price","description","Card","CardActionArea","CardMedia","image","title","CardContent","Typography","gutterBottom","component","color","moment","format","CardActions","ToyList","onToggleToy","length","textAlign","marginTop","CircularProgress","initialState","currToy","loadToys","addToy","removeToy","updateToy","_ToyApp","history","push","setFilter","sortField","undefined","mapDispatchToProps","clearFilter","ToyApp","connect","toyModule","ToyReviewList","reviews","review","ToyReview","author","body","CardHeader","avatar","Avatar","charAt","toUpperCase","subheader","Popup","onTogglePopup","icon","children","ChatApp","messages","text","from","onSend","preventDefault","message","botMessage","addMessage","reset","callback","onSubmit","_ToyDetails","isEditMode","loadToy","match","fontWeight","src","alt","width","ToyDetails","utilService","getRandomColor","i","Math","floor","random","_ToyDashboard","labelChartData","yearChartData","createChartData","chartData","datasets","backgroundColor","align","ToyDashboard","BranchMarker","About","branches","lat","lng","currBranch","marginBottom","branch","height","bootstrapURLKeys","center","defaultZoom","SignUp","useDispatch","useHistory","handleSubmit","FormData","lastName","loggedInUser","response","err","autoComplete","required","autoFocus","LogIn","validationSchema","yup","min","FormField","formik","values","error","touched","errors","helperText","ToyAddEditForm","isEdit","initialValues","useFormik","multiline","setFieldValue","defaultValue","ToyAdd","onAddToy","console","ToyEdit","useEffect","onSaveChanges","_RootCmp","window","location","href","loadUserFromStorage","path","RootCmp","generalModule","rootReducer","combineReducers","action","stateCopy","_","cloneDeep","findIndex","splice","currSortType","newSortType","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5bdebdd8.chunk.js","sourcesContent":["import { Button } from '@material-ui/core';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport const AppHeaderUser = props => {\r\n  const { user, onLogout } = props;\r\n  return (\r\n    <div className=\"user flex align-center wrap justify-center\">\r\n      {!user ? (\r\n        <>\r\n          <NavLink to=\"/signup\">\r\n            <Button>Sign Up</Button>\r\n          </NavLink>\r\n          <NavLink to=\"/login\">\r\n            <Button>Log In</Button>\r\n          </NavLink>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <NavLink to=\"/user\">\r\n            <Button>\r\n              {user.firstName}\r\n              {user.isAdmin ? ' (Admin)' : ''}\r\n            </Button>\r\n          </NavLink>\r\n          <NavLink to=\"/logout\">\r\n            <Button onClick={onLogout}>Log Out</Button>\r\n          </NavLink>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import Button from '@material-ui/core/Button';\r\nimport { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { AppHeaderUser } from './app-header-user';\r\n\r\nexport const AppHeader = props => {\r\n  const { onLogout } = props;\r\n  const user = useSelector(state => state.userModule.user);\r\n  return (\r\n    <header className=\"app-header full flex align-center\">\r\n      <NavLink className=\"logo\" to=\"/toy\">\r\n        <Button size=\"large\">Mr.Toy</Button>\r\n      </NavLink>\r\n      <div>\r\n        <NavLink to=\"/toy/add\">\r\n          <Button>Add Toy</Button>\r\n        </NavLink>\r\n        <NavLink to=\"/toy/dashboard\">\r\n          <Button>Dashboard</Button>\r\n        </NavLink>\r\n        <NavLink to=\"/toy/about\">\r\n          <Button>About</Button>\r\n        </NavLink>\r\n      </div>\r\n      <AppHeaderUser user={user} onLogout={onLogout} />\r\n    </header>\r\n  );\r\n};\r\n","import Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nexport const UserMsg = props => {\r\n  const { msg, isError, isOpen } = props.userMsg;\r\n  const { hideUserMsg } = props;\r\n  return (\r\n    <Snackbar open={isOpen} autoHideDuration={6000} onClose={hideUserMsg}>\r\n      <MuiAlert\r\n        elevation={6}\r\n        variant=\"filled\"\r\n        onClose={hideUserMsg}\r\n        severity={isError ? 'error' : 'info'}>\r\n        {msg}\r\n      </MuiAlert>\r\n    </Snackbar>\r\n  );\r\n};\r\n","export const showUserMsg = (msg, isError) => {\r\n  return dispatch => {\r\n    dispatch({ type: 'SHOW_USER_MSG', msg, isError });\r\n  };\r\n};\r\n\r\nexport const hideUserMsg = () => {\r\n  return dispatch => {\r\n    dispatch({ type: 'HIDE_USER_MSG' });\r\n  };\r\n};\r\n","export const storageService = { saveToStorage, loadFromStorage, removeFromStorage };\r\n\r\nfunction saveToStorage(key, data) {\r\n  sessionStorage.setItem(key, JSON.stringify(data));\r\n}\r\n\r\nfunction loadFromStorage(key) {\r\n  let data = sessionStorage.getItem(key);\r\n  if (data) data = JSON.parse(data);\r\n  return data;\r\n}\r\n\r\nfunction removeFromStorage(key) {\r\n  sessionStorage.removeItem(key);\r\n}\r\n","import Axios from 'axios';\r\nimport { storageService } from './storage.service';\r\nconst axios = Axios.create({\r\n  withCredentials: true,\r\n});\r\nexport const authService = { signup, login, logout, loadFromStorage };\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === 'production' ? '/api/auth' : 'http://localhost:3030/api/auth';\r\n\r\nasync function signup(user) {\r\n  const res = await axios.post(BASE_URL + '/signup', { user });\r\n  _saveToStorage(res.data);\r\n  return res.data;\r\n}\r\n\r\nasync function login(email, password) {\r\n  const res = await axios.post(BASE_URL + '/login', { email, password });\r\n  _saveToStorage(res.data);\r\n  return res.data;\r\n}\r\n\r\nasync function logout() {\r\n  await axios.post(BASE_URL + '/logout');\r\n  _removeFromStorage();\r\n}\r\n\r\nfunction loadFromStorage() {\r\n  return storageService.loadFromStorage('user');\r\n}\r\n\r\nfunction _saveToStorage(data) {\r\n  storageService.saveToStorage('user', data);\r\n}\r\n\r\nfunction _removeFromStorage() {\r\n  storageService.removeFromStorage('user');\r\n}\r\n","import { authService } from '../../services/auth.service';\r\n\r\nexport const login = (email, password) => {\r\n  return async dispatch => {\r\n    const user = await authService.login(email, password);\r\n    dispatch({ type: 'SET_USER', user });\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return async dispatch => {\r\n    await authService.logout();\r\n    dispatch({ type: 'SET_USER', user: null });\r\n  };\r\n};\r\n\r\nexport const setUser = user => {\r\n  return dispatch => dispatch({ type: 'SET_USER', user });\r\n};\r\n\r\nexport const loadUserFromStorage = () => {\r\n  return dispatch => {\r\n    const user = authService.loadFromStorage();\r\n    if (user) dispatch({ type: 'SET_USER', user });\r\n  };\r\n};\r\n","import ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport SortIcon from '@material-ui/icons/Sort';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useState } from 'react';\r\n\r\nexport const ToySort = props => {\r\n  const { sort } = props;\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = event => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const onSortField = field => {\r\n    props.onSortField(field);\r\n    setTimeout(onClose, 200);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <section className=\"toy-sort\">\r\n      <Button endIcon={<SortIcon />} onClick={handleClick}>\r\n        Sort\r\n      </Button>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={onClose}>\r\n        <MenuItem onClick={() => onSortField('name')}>\r\n          {sort.field === 'name' && sort.type === 1 && <ArrowDownwardIcon />}\r\n          {sort.field === 'name' && sort.type === -1 && <ArrowUpwardIcon />}\r\n          Name\r\n        </MenuItem>\r\n        <MenuItem onClick={() => onSortField('price')}>\r\n          {sort.field === 'price' && sort.type === 1 && <ArrowDownwardIcon />}\r\n          {sort.field === 'price' && sort.type === -1 && <ArrowUpwardIcon />}\r\n          Price\r\n        </MenuItem>\r\n        <MenuItem onClick={() => onSortField('createdAt')}>\r\n          {sort.field === 'createdAt' && sort.type === 1 && <ArrowDownwardIcon />}\r\n          {sort.field === 'createdAt' && sort.type === -1 && <ArrowUpwardIcon />}\r\n          Created At\r\n        </MenuItem>\r\n      </Menu>\r\n    </section>\r\n  );\r\n};\r\n","import Axios from 'axios';\r\nconst axios = Axios.create({\r\n  withCredentials: true,\r\n});\r\n\r\nexport const toyService = {\r\n  getToys,\r\n  getToyById,\r\n  create,\r\n  remove,\r\n  update,\r\n  getAllLabels,\r\n  getToysLabelMap,\r\n  getToysYearMap,\r\n};\r\n\r\nlet gLabels = [\r\n  'On wheels',\r\n  'Box game',\r\n  'Battery Powered',\r\n  'Art',\r\n  'Baby',\r\n  'Doll',\r\n  'Puzzle',\r\n  'Outdoor',\r\n];\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === 'production' ? '/api/toy' : 'http://localhost:3030/api/toy';\r\n\r\nfunction getAllLabels() {\r\n  return gLabels;\r\n}\r\n\r\nasync function getToys(criteria, sort) {\r\n  const res = await axios.get(BASE_URL, {\r\n    params: { criteria, sort },\r\n  });\r\n  return res.data;\r\n}\r\n\r\nasync function getToyById(id) {\r\n  const res = await axios.get(`${BASE_URL}/${id}`);\r\n  return res.data;\r\n}\r\n\r\nasync function create(toy) {\r\n  const res = await axios.post(BASE_URL, toy);\r\n  return res.data;\r\n}\r\n\r\nasync function remove(id) {\r\n  const res = await axios.delete(`${BASE_URL}/${id}`);\r\n  return res.data;\r\n}\r\n\r\nasync function update(toy) {\r\n  const res = await axios.put(`${BASE_URL}/${toy._id}`, toy);\r\n  return res.data;\r\n}\r\n\r\nfunction getToysLabelMap(toys) {\r\n  const res = toys.reduce((map, toy) => {\r\n    toy.labels.forEach(label => {\r\n      if (map.hasOwnProperty(label)) map[label]++;\r\n      else map[label] = 1;\r\n    });\r\n    return map;\r\n  }, {});\r\n  return res;\r\n}\r\n\r\nfunction getToysYearMap(toys) {\r\n  const res = toys.reduce((map, toy) => {\r\n    const year = new Date(toy.createdAt).getFullYear();\r\n    if (map.hasOwnProperty(year)) map[year]++;\r\n    else map[year] = 1;\r\n    return map;\r\n  }, {});\r\n  return res;\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Button, InputBase, MenuItem, TextField } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Select from 'react-select';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\n\r\nimport { ToySort } from '../cmps/toy-sort';\r\nimport { toyService } from '../services/toy.service';\r\n\r\nexport class ToyFilter extends Component {\r\n  state = { isExpanded: false };\r\n\r\n  async componentDidMount() {\r\n    this.allLabels = toyService.getAllLabels().map(label => ({ label, value: label }));\r\n  }\r\n\r\n  handleChange = ev => {\r\n    const { name, value } = ev.target;\r\n    this.props.onSetFilter({ [name]: value });\r\n  };\r\n\r\n  handleLabelChange = ev => {\r\n    const labels = ev.map(label => label.value);\r\n    this.props.onSetFilter({ labels });\r\n  };\r\n\r\n  onToggleFilter = () => {\r\n    this.setState(prevState => ({ isExpanded: !prevState.isExpanded }));\r\n  };\r\n\r\n  render() {\r\n    const { name, inStock } = this.props.filter;\r\n    const { onSortField, sort } = this.props;\r\n    const { isExpanded } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"search flex align-center\">\r\n          <SearchIcon />\r\n          <InputBase\r\n            onChange={this.handleChange}\r\n            placeholder=\"Searchâ€¦\"\r\n            name=\"name\"\r\n            value={name}\r\n            fullWidth\r\n          />\r\n        </div>\r\n        <section className=\"toy-filter\">\r\n          <div className=\"btns flex flex space-between\">\r\n            <Button startIcon={<FilterListIcon />} onClick={this.onToggleFilter}>\r\n              Filter\r\n            </Button>\r\n            <ToySort onSortField={onSortField} sort={sort} />\r\n          </div>\r\n          <section className=\"filters flex wrap grow\">\r\n            {isExpanded && (\r\n              <>\r\n                <div className=\"in-stock\">\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    size=\"small\"\r\n                    select\r\n                    name=\"inStock\"\r\n                    value={inStock}\r\n                    onChange={this.handleChange}>\r\n                    <MenuItem value={true}>In stock</MenuItem>\r\n                    <MenuItem value={false}>Out of stock</MenuItem>\r\n                    <MenuItem value={'all'}>Stock</MenuItem>\r\n                  </TextField>\r\n                </div>\r\n                <div className=\"labels\">\r\n                  <Select\r\n                    placeholder=\"Labels\"\r\n                    options={this.allLabels}\r\n                    isMulti\r\n                    onChange={this.handleLabelChange}\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </section>\r\n        </section>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import Chip from '@material-ui/core/Chip';\r\n\r\nexport const ToyLabelList = props => {\r\n  const { labels } = props;\r\n  if (!labels) return <></>;\r\n  return (\r\n    <div\r\n      className=\"toy-label-list flex\"\r\n      style={{ gap: '10px', flexWrap: 'wrap', padding: '8px 16px' }}>\r\n      {labels.map((label, idx) => (\r\n        <Chip key={idx} label={label} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nexport const ToyActions = props => {\r\n  const { onToyClick, onToyEdit, onRemoveToy, toy } = props;\r\n  return (\r\n    <>\r\n      {onToyClick && (\r\n        <IconButton onClick={() => onToyClick(toy)} aria-label=\"view\">\r\n          <SearchIcon />\r\n        </IconButton>\r\n      )}\r\n      <IconButton onClick={() => onToyEdit(toy)} aria-label=\"edit\">\r\n        <EditIcon />\r\n      </IconButton>\r\n      <IconButton onClick={() => onRemoveToy(toy)} aria-label=\"delete\">\r\n        <DeleteIcon />\r\n      </IconButton>\r\n    </>\r\n  );\r\n};\r\n","import Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport moment from 'moment';\r\n\r\nimport { ToyLabelList } from './toy-label-list';\r\nimport { ToyActions } from './toy-actions';\r\n\r\nexport const ToyPreview = props => {\r\n  const { toy, onToyClick, onRemoveToy, onToyEdit } = props;\r\n  const { name, price, labels, inStock, createdAt, description } = toy;\r\n  return (\r\n    <Card className=\"toy-preview\">\r\n      <CardActionArea onClick={() => onToyClick(toy)}>\r\n        <CardMedia\r\n          className=\"media\"\r\n          image=\"https://material-ui.com/static/images/cards/contemplative-reptile.jpg\"\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {name}\r\n            {!inStock && ' - Out of Stock!'}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {description}\r\n          </Typography>\r\n          <Typography variant=\"h6\" component=\"h3\">\r\n            {price}$\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {moment(createdAt).format('MMMM Do YYYY')}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <ToyLabelList labels={labels} />\r\n      <CardActions>\r\n        <ToyActions\r\n          toy={toy}\r\n          onToyClick={onToyClick}\r\n          onToyEdit={onToyEdit}\r\n          onRemoveToy={onRemoveToy}\r\n        />\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { ToyPreview } from './toy-preview';\r\n\r\nexport const ToyList = props => {\r\n  const { toys, onRemoveToy, onToggleToy, onToyClick, onToyEdit } = props;\r\n  if (!toys)\r\n    return (\r\n      <div style={{ textAlign: 'center', marginTop: '50px' }}>\r\n        <CircularProgress color=\"secondary\" />\r\n      </div>\r\n    );\r\n  return (\r\n    <section className=\"toy-list\">\r\n      {toys.map(toy => (\r\n        <ToyPreview\r\n          key={toy._id}\r\n          toy={toy}\r\n          onRemoveToy={onRemoveToy}\r\n          onToggleToy={onToggleToy}\r\n          onToyClick={onToyClick}\r\n          onToyEdit={onToyEdit}\r\n        />\r\n      ))}\r\n      {!toys.length && <p>No toys to show</p>}\r\n    </section>\r\n  );\r\n};\r\n","import _ from 'lodash';\r\n\r\nexport const initialState = {\r\n  toys: null,\r\n  currToy: null,\r\n  filter: { name: '', inStock: 'all', labels: [] },\r\n  sort: { field: 'createdAt', type: 1 },\r\n};\r\n\r\nexport function toyReducer(state = initialState, action) {\r\n  const stateCopy = _.cloneDeep(state);\r\n  let idx;\r\n  switch (action.type) {\r\n    case 'SET_TOY':\r\n      return { ...state, currToy: action.toy };\r\n    case 'SET_TOYS':\r\n      stateCopy.toys = action.toys;\r\n      break;\r\n    case 'REMOVE_TOY':\r\n      idx = stateCopy.toys.findIndex(toy => toy._id === action.id);\r\n      if (idx !== -1) stateCopy.toys.splice(idx, 1);\r\n      break;\r\n    case 'UPDATE_TOY':\r\n      idx = stateCopy.toys.findIndex(toy => toy._id === action.toy._id);\r\n      if (idx !== -1) stateCopy.toys[idx] = action.toy;\r\n      break;\r\n    case 'SET_FILTER':\r\n      return { ...state, filter: { ...state.filter, ...action.filter } };\r\n    case 'SORT_FIELD':\r\n      const currSortType = state.sort.type;\r\n      const newSortType = currSortType === 1 ? -1 : 1;\r\n      return { ...state, sort: { field: action.field, type: newSortType } };\r\n    default:\r\n      break;\r\n  }\r\n  return stateCopy;\r\n}\r\n","import { toyService } from '../../services/toy.service';\r\nimport { initialState } from '../reducers/toy.reducer';\r\n\r\nexport const loadToys = (filter = initialState.filter, sort) => {\r\n  return async dispatch => {\r\n    const toys = await toyService.getToys(filter, sort);\r\n    dispatch({ type: 'SET_TOYS', toys });\r\n  };\r\n};\r\n\r\nexport const getToyById = id => {\r\n  return async dispatch => {\r\n    const toy = await toyService.getToyById(id);\r\n    dispatch({ type: 'SET_TOY', toy });\r\n  };\r\n};\r\n\r\nexport const addToy = toy => {\r\n  return async dispatch => {\r\n    await toyService.create(toy);\r\n  };\r\n};\r\n\r\nexport const removeToy = toy => {\r\n  return async dispatch => {\r\n    await toyService.remove(toy._id);\r\n    dispatch({ type: 'REMOVE_TOY', id: toy._id });\r\n  };\r\n};\r\n\r\nexport const updateToy = toy => {\r\n  return async dispatch => {\r\n    await toyService.update(toy);\r\n    dispatch({ type: 'UPDATE_TOY', toy });\r\n  };\r\n};\r\n\r\nexport const setFilter = filter => {\r\n  return async dispatch => {\r\n    dispatch({ type: 'SET_FILTER', filter });\r\n  };\r\n};\r\n\r\nexport const clearFilter = () => {\r\n  return dispatch => {\r\n    dispatch({ type: 'SET_FILTER', filter: initialState.filter });\r\n  };\r\n};\r\n\r\nexport const sortField = field => {\r\n  return async dispatch => {\r\n    dispatch({ type: 'SORT_FIELD', field });\r\n  };\r\n};\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ToyFilter } from '../cmps/toy-filter';\r\nimport { ToyList } from '../cmps/toy-list';\r\nimport {\r\n  loadToys,\r\n  addToy,\r\n  removeToy,\r\n  updateToy,\r\n  setFilter,\r\n  clearFilter,\r\n  sortField,\r\n} from '../store/actions/toy.actions';\r\nimport { showUserMsg } from '../store/actions/general.actions';\r\n\r\nclass _ToyApp extends Component {\r\n  async componentDidMount() {\r\n    this.props.loadToys();\r\n  }\r\n\r\n  onRemoveToy = toy => {\r\n    this.props.removeToy(toy);\r\n    this.props.showUserMsg('Toy removed');\r\n  };\r\n\r\n  onToyClick = toy => {\r\n    const { _id } = toy;\r\n    this.props.history.push('/toy/' + _id);\r\n  };\r\n\r\n  onToyEdit = toy => {\r\n    const { _id } = toy;\r\n    this.props.history.push(`/toy/${_id}/edit`);\r\n  };\r\n\r\n  onSetFilter = async filter => {\r\n    await this.props.setFilter(filter);\r\n    this.props.loadToys(this.props.filter);\r\n  };\r\n\r\n  onSortField = async field => {\r\n    await this.props.sortField(field);\r\n    this.props.loadToys(undefined, this.props.sort);\r\n  };\r\n\r\n  render() {\r\n    const { toys, filter, sort } = this.props;\r\n    return (\r\n      <main className=\"toy-app\">\r\n        <ToyFilter\r\n          filter={filter}\r\n          onSetFilter={this.onSetFilter}\r\n          onSortField={this.onSortField}\r\n          sort={sort}\r\n        />\r\n        <ToyList\r\n          toys={toys}\r\n          onRemoveToy={this.onRemoveToy}\r\n          onToyClick={this.onToyClick}\r\n          onToyEdit={this.onToyEdit}\r\n        />\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const { toys, filter, sort } = state.toyModule;\r\n  return { toys, filter, sort };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loadToys,\r\n  addToy,\r\n  removeToy,\r\n  updateToy,\r\n  setFilter,\r\n  clearFilter,\r\n  showUserMsg,\r\n  sortField,\r\n};\r\n\r\nexport const ToyApp = connect(mapStateToProps, mapDispatchToProps)(_ToyApp);\r\n","import Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport moment from 'moment';\r\n\r\nexport const ToyReviewList = props => {\r\n  const { reviews } = props;\r\n  return (\r\n    <section className=\"flex toy-review-list\">\r\n      {reviews.map(review => (\r\n        <ToyReview key={review._id} review={review} />\r\n      ))}\r\n    </section>\r\n  );\r\n};\r\n\r\nfunction ToyReview(props) {\r\n  const { author, title, body, createdAt } = props.review;\r\n  return (\r\n    <Card>\r\n      <CardHeader\r\n        avatar={<Avatar aria-label=\"recipe\">{author.charAt(0).toUpperCase()}</Avatar>}\r\n        title={title}\r\n        subheader={moment(createdAt).format('MMMM Do YYYY')}\r\n      />\r\n      <CardContent>\r\n        <Typography variant=\"body2\" component=\"p\">\r\n          {body}\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\nexport class Popup extends Component {\r\n  state = { isExpanded: false };\r\n\r\n  onTogglePopup = () => {\r\n    this.setState(prevState => ({ isExpanded: !prevState.isExpanded }));\r\n  };\r\n\r\n  render() {\r\n    const { isExpanded } = this.state;\r\n    const { icon } = this.props;\r\n    return (\r\n      <section className=\"popup\">\r\n        <IconButton className=\"icon\" onClick={this.onTogglePopup}>\r\n          {isExpanded ? <CloseIcon /> : icon}\r\n        </IconButton>\r\n        {isExpanded && (\r\n          <div className=\"content flex column\">\r\n            <header>\r\n              <IconButton className=\"btn-close\" onClick={this.onTogglePopup}>\r\n                <CloseIcon />\r\n              </IconButton>\r\n            </header>\r\n            <main className=\"main-content grow\">{this.props.children}</main>\r\n            <footer></footer>\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport React, { Component } from 'react';\r\n\r\nexport class ChatApp extends Component {\r\n  state = { messages: [{ text: 'Hey there!', from: 'Bot' }] };\r\n\r\n  onSend = ev => {\r\n    ev.preventDefault();\r\n    const text = ev.target.text.value;\r\n    const from = 'Puki';\r\n    const message = { text, from };\r\n    const botMessage = { text: 'Hello Puki, nice to meet you.', from: 'Bot' };\r\n    this.addMessage(message, () => setTimeout(this.addMessage, 500, botMessage));\r\n    ev.target.reset();\r\n  };\r\n\r\n  addMessage = (message, callback = () => {}) => {\r\n    this.setState(prevState => ({ messages: [...prevState.messages, message] }), callback);\r\n  };\r\n\r\n  render() {\r\n    const { messages } = this.state;\r\n    return (\r\n      <section className=\"chat-app flex column space-between\">\r\n        <div className=\"messages\">\r\n          {messages.map((msg, idx) => (\r\n            <div className=\"message\" key={idx}>\r\n              <span className=\"from\">{msg.from}:</span> {msg.text}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <form className=\"send flex\" onSubmit={this.onSend}>\r\n          <TextField name=\"text\" variant=\"outlined\" fullWidth />\r\n          <Button type=\"submit\" variant=\"outlined\">\r\n            Send\r\n          </Button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import Typography from '@material-ui/core/Typography';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\nimport { getToyById, removeToy } from '../store/actions/toy.actions';\r\nimport { showUserMsg } from '../store/actions/general.actions';\r\nimport { ToyActions } from '../cmps/toy-actions';\r\nimport { ToyLabelList } from '../cmps/toy-label-list';\r\nimport { ToyReviewList } from '../cmps/toy-review-list';\r\nimport { Popup } from '../cmps/popup';\r\nimport { ChatApp } from '../cmps/chat-app';\r\n\r\nclass _ToyDetails extends Component {\r\n  state = { isEditMode: false };\r\n\r\n  componentDidMount() {\r\n    this.loadToy();\r\n  }\r\n\r\n  loadToy = () => {\r\n    const { id } = this.props.match.params;\r\n    this.props.getToyById(id);\r\n  };\r\n\r\n  onRemoveToy = toy => {\r\n    this.props.removeToy(toy);\r\n    this.props.showUserMsg('Toy removed');\r\n    this.props.history.push('/toy');\r\n  };\r\n\r\n  onToyEdit = toy => {\r\n    const { _id } = toy;\r\n    this.props.history.push(`/toy/${_id}/edit`);\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.toys || !this.props.toys.length) return <CircularProgress />;\r\n    const toy = this.props.toys[0];\r\n    const { name, description, price, labels, inStock, reviews } = toy;\r\n\r\n    return (\r\n      <>\r\n        <main>\r\n          <section className=\"toy-details container\">\r\n            <Typography variant=\"h3\" gutterBottom style={{ fontWeight: '500' }}>\r\n              {name} {!inStock && ' - Out of Stock!'}\r\n            </Typography>\r\n            <ToyLabelList labels={labels} />\r\n            <img\r\n              className=\"toy-img\"\r\n              src=\"https://material-ui.com/static/images/cards/contemplative-reptile.jpg\"\r\n              alt=\"\"\r\n              width=\"100%\"\r\n            />\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              {description}\r\n            </Typography>\r\n            <Typography variant=\"h6\">Price: {price}$</Typography>\r\n            <section className=\"toy-actions\">\r\n              <ToyActions toy={toy} onToyEdit={this.onToyEdit} onRemoveToy={this.onRemoveToy} />\r\n            </section>\r\n          </section>\r\n\r\n          <section className=\"toy-reviews\">\r\n            <Typography variant=\"h5\" gutterBottom style={{ fontWeight: 'bold' }}>\r\n              Reviews\r\n            </Typography>\r\n            {reviews && <ToyReviewList reviews={reviews} />}\r\n          </section>\r\n        </main>\r\n        <Popup icon={<ChatIcon />}>\r\n          <ChatApp />\r\n        </Popup>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const { toys } = state.toyModule;\r\n  return { toys };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  getToyById,\r\n  removeToy,\r\n  showUserMsg,\r\n};\r\n\r\nexport const ToyDetails = connect(mapStateToProps, mapDispatchToProps)(_ToyDetails);\r\n","export const utilService = { getRandomColor };\r\n\r\nfunction getRandomColor() {\r\n  var letters = '0123456789ABCDEF';\r\n  var color = '#';\r\n  for (var i = 0; i < 6; i++) {\r\n    color += letters[Math.floor(Math.random() * 16)];\r\n  }\r\n  return color;\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport { connect } from 'react-redux';\r\nimport { loadToys } from '../store/actions/toy.actions';\r\nimport { toyService } from '../services/toy.service';\r\nimport { utilService } from '../services/util.service';\r\n\r\nclass _ToyDashboard extends Component {\r\n  state = { labelChartData: null, yearChartData: null };\r\n\r\n  async componentDidMount() {\r\n    await this.props.loadToys();\r\n    const { toys } = this.props;\r\n    const labelChartData = this.createChartData(toyService.getToysLabelMap(toys));\r\n    const yearChartData = this.createChartData(toyService.getToysYearMap(toys));\r\n    this.setState({ labelChartData, yearChartData });\r\n  }\r\n\r\n  createChartData = map => {\r\n    const chartData = { labels: [], datasets: [{ data: [], backgroundColor: [] }] };\r\n    for (const key in map) {\r\n      const data = map[key];\r\n      chartData.labels.push(key);\r\n      chartData.datasets[0].data.push(data);\r\n      chartData.datasets[0].backgroundColor.push(utilService.getRandomColor());\r\n    }\r\n    return chartData;\r\n  };\r\n\r\n  render() {\r\n    const { labelChartData, yearChartData } = this.state;\r\n    return (\r\n      <main className=\"toy-dashboard container\">\r\n        <Typography variant=\"h3\" gutterBottom style={{ fontWeight: '500' }}>\r\n          Dashboard\r\n        </Typography>\r\n        <div className=\"charts-container flex wrap\">\r\n          <section className=\"chart\">\r\n            <Typography variant=\"h5\" gutterBottom align=\"center\">\r\n              Toy Labels\r\n            </Typography>\r\n            <Pie data={labelChartData} />\r\n          </section>\r\n          <section className=\"chart\">\r\n            <Typography variant=\"h5\" gutterBottom align=\"center\">\r\n              Toy Years\r\n            </Typography>\r\n            <Pie data={yearChartData} />\r\n          </section>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const { toys } = state.toyModule;\r\n  return { toys };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loadToys,\r\n};\r\n\r\nexport const ToyDashboard = connect(mapStateToProps, mapDispatchToProps)(_ToyDashboard);\r\n","import React, { Component } from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport { Button, Typography } from '@material-ui/core';\r\n\r\nconst BranchMarker = ({ name }) => (\r\n  <div className=\"branch-marker\">\r\n    <span>{name} Branch</span>\r\n  </div>\r\n);\r\n\r\nexport class About extends Component {\r\n  branches = [\r\n    {\r\n      name: 'Tel Aviv',\r\n      lat: 32.0853,\r\n      lng: 34.7818,\r\n    },\r\n    {\r\n      name: 'Beirut',\r\n      lat: 33.8938,\r\n      lng: 35.5018,\r\n    },\r\n    {\r\n      name: 'Cairo',\r\n      lat: 30.0444,\r\n      lng: 31.2357,\r\n    },\r\n  ];\r\n\r\n  state = {\r\n    currBranch: this.branches[0],\r\n  };\r\n\r\n  render() {\r\n    const { lat, lng } = this.state.currBranch;\r\n    return (\r\n      <main className=\"container\">\r\n        <Typography variant=\"h3\" gutterBottom style={{ fontWeight: '500' }}>\r\n          About Us\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\" gutterBottom>\r\n          We are proud to be announced as the best toy store in the middle east for the third year\r\n          in a row.\r\n        </Typography>\r\n        <Typography variant=\"h5\" gutterBottom align=\"center\" style={{ marginTop: '40px' }}>\r\n          Our Branches\r\n        </Typography>\r\n        <section className=\"branches flex justify-center\" style={{ marginBottom: '40px' }}>\r\n          {this.branches.map(branch => (\r\n            <Button key={branch.name} onClick={() => this.setState({ currBranch: branch })}>\r\n              {branch.name}\r\n            </Button>\r\n          ))}\r\n        </section>\r\n        <div style={{ height: '500px', width: '100%' }}>\r\n          <GoogleMapReact bootstrapURLKeys={{ key: '' }} center={{ lat, lng }} defaultZoom={7}>\r\n            {this.branches.map(branch => (\r\n              <BranchMarker\r\n                key={branch.name}\r\n                lat={branch.lat}\r\n                lng={branch.lng}\r\n                name={branch.name}\r\n              />\r\n            ))}\r\n          </GoogleMapReact>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { authService } from '../services/auth.service';\r\nimport { showUserMsg } from '../store/actions/general.actions';\r\nimport { setUser } from '../store/actions/user.actions';\r\nimport { useHistory } from 'react-router';\r\n\r\nexport const SignUp = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async ev => {\r\n    ev.preventDefault();\r\n    const data = new FormData(ev.currentTarget);\r\n    const user = {\r\n      email: data.get('email'),\r\n      password: data.get('password'),\r\n      firstName: data.get('firstName'),\r\n      lastName: data.get('lastName'),\r\n    };\r\n    dispatch(showUserMsg('Signing up...'));\r\n    try {\r\n      const loggedInUser = await authService.signup(user);\r\n      await dispatch(setUser(loggedInUser));\r\n      dispatch(showUserMsg('Signed up successfuly'));\r\n      history.push('/toy');\r\n    } catch (err) {\r\n      dispatch(showUserMsg(err.response.data.err, true));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"sign-up container\">\r\n      <section className=\"heading flex column align-center justify-center\">\r\n        <Avatar style={{ backgroundColor: '#dc004e' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n      </section>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          autoComplete=\"fname\"\r\n          name=\"firstName\"\r\n          required\r\n          fullWidth\r\n          label=\"First Name\"\r\n          autoFocus\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth\r\n          label=\"Last Name\"\r\n          name=\"lastName\"\r\n          autoComplete=\"lname\"\r\n        />\r\n        <TextField\r\n          className=\"full\"\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth\r\n          label=\"Email Address\"\r\n          name=\"email\"\r\n          autoComplete=\"email\"\r\n        />\r\n        <TextField\r\n          className=\"full\"\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth\r\n          name=\"password\"\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n        <Button\r\n          className=\"btn-signup full\"\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\">\r\n          Sign Up\r\n        </Button>\r\n      </form>\r\n    </main>\r\n  );\r\n};\r\n","import * as React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { useDispatch } from 'react-redux';\r\nimport { login } from '../store/actions/user.actions';\r\nimport { showUserMsg } from '../store/actions/general.actions';\r\nimport { useHistory } from 'react-router';\r\n\r\nexport const LogIn = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async ev => {\r\n    ev.preventDefault();\r\n    const data = new FormData(ev.currentTarget);\r\n    const email = data.get('email');\r\n    const password = data.get('password');\r\n    dispatch(showUserMsg('Logging in...'));\r\n    try {\r\n      await dispatch(login(email, password));\r\n      dispatch(showUserMsg('Logged in'));\r\n      history.push('/toy');\r\n    } catch (err) {\r\n      dispatch(showUserMsg(err.response.data.err, true));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"login container\">\r\n      <section className=\"heading flex column align-center justify-center\">\r\n        <Avatar style={{ backgroundColor: '#3f51b5' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Log In\r\n        </Typography>\r\n      </section>\r\n      <form onSubmit={handleSubmit} className=\"flex column\">\r\n        <TextField\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth\r\n          id=\"email\"\r\n          label=\"Email Address\"\r\n          name=\"email\"\r\n          autoComplete=\"email\"\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth\r\n          name=\"password\"\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n        <Button\r\n          className=\"btn-signup full\"\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\">\r\n          Log In\r\n        </Button>\r\n      </form>\r\n    </main>\r\n  );\r\n};\r\n","import { Button, MenuItem, TextField, Typography } from '@material-ui/core';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport Select from 'react-select';\r\nimport { toyService } from '../services/toy.service';\r\n\r\n// Settings:\r\n\r\nconst validationSchema = yup.object({\r\n  name: yup\r\n    .string('Enter Name')\r\n    .required('Name is required')\r\n    .min(2, 'Name must be 2 letters or longer'),\r\n  description: yup\r\n    .string('Enter Description')\r\n    .required('Description is required')\r\n    .min(10, 'Description must be 10 letters or longer'),\r\n  price: yup.number('Enter Price').required('Price is required'),\r\n});\r\n\r\nconst allLabels = toyService.getAllLabels().map(label => ({ label, value: label }));\r\n\r\nconst FormField = props => {\r\n  const { name, formik } = props;\r\n  return (\r\n    <TextField\r\n      {...props}\r\n      fullWidth\r\n      variant=\"outlined\"\r\n      value={formik.values[name]}\r\n      error={formik.touched[name] && Boolean(formik.errors[name])}\r\n      helperText={formik.touched[name] && formik.errors[name]}\r\n      onChange={formik.handleChange}\r\n    />\r\n  );\r\n};\r\n\r\n// Actual Component:\r\n\r\nexport const ToyAddEditForm = props => {\r\n  const { isEdit, initialValues, onSubmit } = props;\r\n  const formik = useFormik({\r\n    initialValues,\r\n    onSubmit,\r\n    validationSchema,\r\n  });\r\n\r\n  const handleLabelChange = ev => {\r\n    const labels = ev.map(label => label.value);\r\n    formik.setFieldValue('labels', labels);\r\n  };\r\n\r\n  return (\r\n    <form className=\"toy-add container\" onSubmit={formik.handleSubmit}>\r\n      <Typography variant=\"h3\" gutterBottom style={{ fontWeight: '500' }}>\r\n        {isEdit ? 'Edit Toy' : 'Add Toy'}\r\n      </Typography>\r\n      <FormField label=\"Toy Name\" name=\"name\" formik={formik} />\r\n      <FormField label=\"Toy Description\" name=\"description\" multiline formik={formik} />\r\n      <FormField label=\"Price\" name=\"price\" type=\"number\" formik={formik} />\r\n      <FormField label=\"Availability\" name=\"inStock\" select formik={formik}>\r\n        <MenuItem value={true}>In stock</MenuItem>\r\n        <MenuItem value={false}>Out of stock</MenuItem>\r\n      </FormField>\r\n      <div className=\"labels\">\r\n        <Select\r\n          placeholder=\"Labels\"\r\n          options={allLabels}\r\n          isMulti\r\n          onChange={handleLabelChange}\r\n          defaultValue={initialValues.labels.map(label => ({ label, value: label }))}\r\n        />\r\n      </div>\r\n      <Button type=\"submit\">{isEdit ? 'Save Changes' : 'Submit New Toy'}</Button>\r\n    </form>\r\n  );\r\n};\r\n","import { useDispatch } from 'react-redux';\r\nimport { ToyAddEditForm } from '../cmps/toy-add-edit-form';\r\nimport { showUserMsg } from '../store/actions/general.actions';\r\nimport { addToy } from '../store/actions/toy.actions';\r\n\r\nconst initialValues = {\r\n  name: 'The cool doll',\r\n  description:\r\n    'Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate facere iusto sapiente ad, est animi quidem ex numquam? Quis quibusdam ratione qui provident sequi quasi voluptate, velit commodi illo minima?',\r\n  price: 150,\r\n  inStock: true,\r\n  labels: [],\r\n};\r\n\r\nexport const ToyAdd = props => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onAddToy = async toy => {\r\n    try {\r\n      dispatch(showUserMsg('Adding..'));\r\n      await dispatch(addToy(toy));\r\n      dispatch(showUserMsg('Toy Added'));\r\n      props.history.push('/toy');\r\n    } catch (err) {\r\n      dispatch(showUserMsg('Could not add toy', true));\r\n      console.error(err);\r\n    }\r\n  };\r\n  return <ToyAddEditForm isEdit={false} initialValues={initialValues} onSubmit={onAddToy} />;\r\n};\r\n","import { CircularProgress } from '@material-ui/core';\r\nimport { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport { ToyAddEditForm } from '../cmps/toy-add-edit-form';\r\nimport { showUserMsg } from '../store/actions/general.actions';\r\nimport { getToyById, updateToy } from '../store/actions/toy.actions';\r\n\r\nexport const ToyEdit = props => {\r\n  const dispatch = useDispatch();\r\n  const toy = useSelector(state => state.toyModule.currToy);\r\n\r\n  useEffect(() => {\r\n    const { id } = props.match.params;\r\n    dispatch(getToyById(id));\r\n  }, [dispatch, props.match.params]);\r\n\r\n  const onSaveChanges = async toy => {\r\n    try {\r\n      dispatch(showUserMsg('Updating..'));\r\n      await dispatch(updateToy(toy));\r\n      dispatch(showUserMsg('Toy details updated'));\r\n      props.history.push(`/toy/${toy._id}`);\r\n    } catch (err) {\r\n      dispatch(showUserMsg('Could not update toy', true));\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (!toy) return <CircularProgress />;\r\n  return <ToyAddEditForm isEdit={true} initialValues={toy} onSubmit={onSaveChanges} />;\r\n};\r\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport { AppHeader } from './cmps/app-header';\nimport { UserMsg } from './cmps/user-msg';\nimport { hideUserMsg } from './store/actions/general.actions';\nimport { showUserMsg } from './store/actions/general.actions';\nimport { loadUserFromStorage, logout } from './store/actions/user.actions';\nimport { ToyApp } from './pages/toy-app';\nimport { ToyDetails } from './pages/toy-details';\nimport { ToyDashboard } from './pages/toy-dashboard';\nimport { About } from './pages/about';\nimport './styles/styles.scss';\nimport { SignUp } from './pages/sign-up';\nimport { LogIn } from './pages/login';\nimport { ToyAdd } from './pages/toy-add';\nimport { ToyEdit } from './pages/toy-edit';\n\nexport class _RootCmp extends Component {\n  componentDidMount() {\n    this.props.loadUserFromStorage();\n  }\n\n  onLogout = () => {\n    this.props.logout();\n    this.props.showUserMsg('Logged out');\n\n    window.location.href = '/toy';\n  };\n\n  render() {\n    const { userMsg, hideUserMsg } = this.props;\n    return (\n      <main className=\"main-container\">\n        <Router>\n          <AppHeader onLogout={this.onLogout} />\n          <UserMsg userMsg={userMsg} hideUserMsg={hideUserMsg} />\n          <Switch>\n            <Route path=\"/toy/about\" component={About} />\n            <Route path=\"/toy/dashboard\" component={ToyDashboard} />\n            <Route path=\"/toy/add\" component={ToyAdd} />\n            <Route path=\"/toy/:id/edit\" component={ToyEdit} />\n            <Route path=\"/toy/:id\" component={ToyDetails} />\n            <Route path=\"/toy\" component={ToyApp} />\n            <Route path=\"/signup\" component={SignUp} />\n            <Route path=\"/login\" component={LogIn} />\n          </Switch>\n        </Router>\n      </main>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { user } = state.userModule;\n  const { userMsg } = state.generalModule;\n  return { userMsg, user };\n};\n\nconst mapDispatchToProps = {\n  hideUserMsg,\n  loadUserFromStorage,\n  logout,\n  showUserMsg,\n};\n\nexport const RootCmp = connect(mapStateToProps, mapDispatchToProps)(_RootCmp);\n","import _ from 'lodash';\r\n\r\nconst initialState = {\r\n  userMsg: { isOpen: false, isError: false, msg: '' },\r\n};\r\n\r\nexport function generalReducer(state = initialState, action) {\r\n  const stateCopy = _.cloneDeep(state);\r\n  switch (action.type) {\r\n    case 'SHOW_USER_MSG':\r\n      stateCopy.userMsg.isOpen = true;\r\n      stateCopy.userMsg.msg = action.msg || state.userMsg;\r\n      stateCopy.userMsg.isError = action.isError;\r\n      break;\r\n    case 'HIDE_USER_MSG':\r\n      stateCopy.userMsg.isOpen = false;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return stateCopy;\r\n}\r\n","import _ from 'lodash';\r\n\r\nconst initialState = {\r\n  user: null,\r\n};\r\n\r\nexport function userReducer(state = initialState, action) {\r\n  const stateCopy = _.cloneDeep(state);\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, user: action.user };\r\n    case 'UPDATE_USER':\r\n      stateCopy.user = action.user;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return stateCopy;\r\n}\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { generalReducer } from './reducers/general.reducer';\r\nimport { toyReducer } from './reducers/toy.reducer';\r\nimport { userReducer } from './reducers/user.reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  toyModule: toyReducer,\r\n  userModule: userReducer,\r\n  generalModule: generalReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { RootCmp } from './root-cmp';\nimport { Provider } from 'react-redux';\nimport { store } from './store/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <RootCmp />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}