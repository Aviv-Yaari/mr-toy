(this["webpackJsonpex-miss-toy"]=this["webpackJsonpex-miss-toy"]||[]).push([[0],{215:function(e,t,n){},216:function(e,t,n){},220:function(e,t,n){},224:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},360:function(e,t,n){},378:function(e,t,n){},379:function(e,t,n){},380:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),s=n.n(o),c=(n(215),n(216),n(6)),i=n(7),l=n(9),u=n(10),d=n(38),p=n(66),h=n(25),j=n(420),b=(n(220),n(2)),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("header",{className:"app-header flex align-center",children:[Object(b.jsx)(p.b,{className:"logo",to:"/",children:Object(b.jsx)(j.a,{size:"large",children:"Mr.Toy"})}),Object(b.jsx)(p.b,{to:"/toy/add",children:Object(b.jsx)(j.a,{children:"Add Toy"})}),Object(b.jsx)(p.b,{to:"/toy/dashboard",children:Object(b.jsx)(j.a,{children:"Dashboard"})}),Object(b.jsx)(p.b,{to:"/toy/about",children:Object(b.jsx)(j.a,{children:"About"})})]})}}]),n}(a.Component),y=n(437),m=n(435),O=function(e){var t=e.userMsg,n=t.msg,a=t.type,r=t.isOpen,o=e.hideUserMsg;return Object(b.jsx)(y.a,{open:r,autoHideDuration:6e3,onClose:o,children:Object(b.jsx)(m.a,{elevation:6,variant:"filled",onClose:o,severity:a,children:n})})},v=function(e){return function(t){t({type:"SHOW_USER_MSG",msg:e})}},x=n(11),g=n.n(x),T=n(21),w=n(28),k=n(438),S=n(434),C=n(439),M=n(112),E=n.n(M),_=n(90),D=(n(224),n(79)),N=n.n(D),B={getToys:function(e,t){return L.apply(this,arguments)},getToyById:function(e){return U.apply(this,arguments)},create:function(e){return I.apply(this,arguments)},remove:function(e){return P.apply(this,arguments)},update:function(e){return W.apply(this,arguments)},getLabels:function(){return R.apply(this,arguments)},getToysLabelMap:function(e){return e.reduce((function(e,t){return t.labels.forEach((function(t){e.hasOwnProperty(t)?e[t]++:e[t]=1})),e}),{})},getToysYearMap:function(e){return e.reduce((function(e,t){var n=new Date(t.createdAt).getFullYear();return e.hasOwnProperty(n)?e[n]++:e[n]=1,e}),{})}},A=["On wheels","Box game","Battery Powered","Art","Baby","Doll","Puzzle","Outdoor"],F="/api/toy";function R(){return(R=Object(T.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(T.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(F,{params:{criteria:t,sort:n}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(T.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(F,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(T.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(F,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(T.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat(F,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(T.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(F,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.props.onSetFilter(Object(w.a)({},a,r))},e.handleLabelChange=function(t){var n=t.map((function(e){return e.value}));e.props.onSetFilter({labels:n})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(T.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getLabels();case 2:this.allLabels=e.sent.map((function(e){return{label:e,value:e}}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.filter,t=e.name,n=e.inStock,a=this.props.onClearFilters;return Object(b.jsxs)("section",{className:"toy-filter flex main-layout",children:[Object(b.jsxs)("div",{className:"search flex align-center",children:[Object(b.jsx)(E.a,{}),Object(b.jsx)(k.a,{onChange:this.handleChange,placeholder:"Search\u2026",name:"name",value:t,fullWidth:!0})]}),Object(b.jsx)("div",{className:"in-stock",children:Object(b.jsxs)(S.a,{variant:"outlined",size:"small",select:!0,name:"inStock",value:n,onChange:this.handleChange,children:[Object(b.jsx)(C.a,{value:!0,children:"In stock"}),Object(b.jsx)(C.a,{value:!1,children:"Out of stock"}),Object(b.jsx)(C.a,{value:"all",children:"Stock"})]})}),Object(b.jsx)("div",{className:"labels",children:Object(b.jsx)(_.a,{placeholder:"Labels",options:this.allLabels,isMulti:!0,onChange:this.handleLabelChange})}),Object(b.jsx)(j.a,{onClick:a,children:"Clear"})]})}}]),n}(a.Component),q=n(431),H=n(425),V=n(426),z=n(427),G=n(430),J=n(429),X=n(428),$=n(119),K=n(113),Q=n.n(K),Z=n(440),ee=function(e){var t=e.labels;return t?Object(b.jsx)("div",{className:"toy-label-list flex",style:{gap:"10px",flexWrap:"wrap",padding:"8px 16px"},children:t.map((function(e,t){return Object(b.jsx)(Z.a,{label:e},t)}))}):Object(b.jsx)(b.Fragment,{})},te=n(424),ne=n(187),ae=n.n(ne),re=n(186),oe=n.n(re),se=function(e){var t=e.onToyClick,n=e.onToyEdit,a=e.onRemoveToy,r=e.toy;return Object(b.jsxs)(b.Fragment,{children:[t&&Object(b.jsx)(te.a,{onClick:function(){return t(r)},"aria-label":"view",children:Object(b.jsx)(E.a,{})}),Object(b.jsx)(te.a,{onClick:function(){return n(r)},"aria-label":"edit",children:Object(b.jsx)(oe.a,{})}),Object(b.jsx)(te.a,{onClick:function(){return a(r)},"aria-label":"delete",children:Object(b.jsx)(ae.a,{})})]})},ce=Object(H.a)({root:{maxWidth:345},media:{height:140}}),ie=function(e){var t=e.toy,n=e.onToyClick,a=e.onRemoveToy,r=e.onToyEdit,o=t.name,s=t.price,c=t.labels,i=t.inStock,l=t.createdAt,u=t.description,d=ce();return Object(b.jsxs)(V.a,{className:d.root,children:[Object(b.jsxs)(z.a,{onClick:function(){return n(t)},children:[Object(b.jsx)(X.a,{className:d.media,image:"https://material-ui.com/static/images/cards/contemplative-reptile.jpg",title:"Contemplative Reptile"}),Object(b.jsxs)(J.a,{children:[Object(b.jsxs)($.a,{gutterBottom:!0,variant:"h5",component:"h2",children:[o,!i&&" - Out of Stock!"]}),Object(b.jsx)($.a,{gutterBottom:!0,variant:"body2",color:"textSecondary",component:"p",children:u}),Object(b.jsxs)($.a,{variant:"h6",component:"h3",children:[s,"$"]}),Object(b.jsx)($.a,{gutterBottom:!0,variant:"body2",color:"textSecondary",component:"p",children:Q()(l).format("MMMM Do YYYY")})]})]}),Object(b.jsx)(ee,{labels:c}),Object(b.jsx)(G.a,{children:Object(b.jsx)(se,{toy:t,onToyClick:n,onToyEdit:r,onRemoveToy:a})})]})},le=(n(253),function(e){var t=e.toys,n=e.onRemoveToy,a=e.onToggleToy,r=e.onToyClick,o=e.onToyEdit;return t?Object(b.jsxs)("section",{className:"toy-list main-layout",children:[t.map((function(e){return Object(b.jsx)(ie,{toy:e,onRemoveToy:n,onToggleToy:a,onToyClick:r,onToyEdit:o},e._id)})),!t.length&&Object(b.jsx)("p",{children:"No toys to show"})]}):Object(b.jsx)("div",{style:{textAlign:"center",marginTop:"50px"},children:Object(b.jsx)(q.a,{color:"secondary"})})}),ue=n(30),de=n(73),pe=n.n(de),he={toys:null,filter:{name:"",inStock:"all",labels:[]},sort:{field:"createdAt",type:1}};var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he.filter,t=arguments.length>1?arguments[1]:void 0;return function(){var n=Object(T.a)(g.a.mark((function n(a){var r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B.getToys(e,t);case 2:r=n.sent,a({type:"SET_TOYS",toys:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},be=function(e){return function(){var t=Object(T.a)(g.a.mark((function t(n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.getToyById(e);case 2:a=t.sent,n({type:"SET_TOYS",toys:[a]});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fe=function(e){return function(){var t=Object(T.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.create(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(T.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.remove(e._id);case 2:n({type:"REMOVE_TOY",id:e._id});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},me=function(e){return function(){var t=Object(T.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.update(e);case 2:n({type:"UPDATE_TOY",toy:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Oe=n(117),ve=n.n(Oe),xe=n(118),ge=n.n(xe),Te=(n(254),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onSortField,n=e.sort;return Object(b.jsxs)("section",{className:"toy-sort",children:[Object(b.jsxs)(j.a,{onClick:function(){return t("name")},children:["name"===n.field&&1===n.type&&Object(b.jsx)(ve.a,{}),"name"===n.field&&-1===n.type&&Object(b.jsx)(ge.a,{}),"Name"]}),Object(b.jsxs)(j.a,{onClick:function(){return t("price")},children:["price"===n.field&&1===n.type&&Object(b.jsx)(ve.a,{}),"price"===n.field&&-1===n.type&&Object(b.jsx)(ge.a,{}),"Price"]}),Object(b.jsxs)(j.a,{onClick:function(){return t("createdAt")},children:["createdAt"===n.field&&1===n.type&&Object(b.jsx)(ve.a,{}),"createdAt"===n.field&&-1===n.type&&Object(b.jsx)(ge.a,{}),"Created At"]})]})}}]),n}(a.Component)),we=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onRemoveToy=function(t){e.props.removeToy(t),e.props.showUserMsg("Toy removed")},e.onToyClick=function(t){var n=t._id;e.props.history.push("/toy/"+n)},e.onToyEdit=function(t){var n=t._id;e.props.history.push("/toy/".concat(n,"/edit"))},e.onSetFilter=function(){var t=Object(T.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setFilter(n);case 2:e.props.loadToys(e.props.filter);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onClearFilters=function(){e.props.clearFilter(),e.props.loadToys()},e.onSortField=function(){var t=Object(T.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.sortField(n);case 2:e.props.loadToys(void 0,e.props.sort);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(T.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.loadToys();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.toys,n=e.filter,a=e.sort;return Object(b.jsxs)("main",{className:"toy-app",children:[Object(b.jsx)(Y,{filter:n,onSetFilter:this.onSetFilter,onClearFilters:this.onClearFilters}),Object(b.jsx)(Te,{onSortField:this.onSortField,sort:a}),Object(b.jsx)(le,{toys:t,onRemoveToy:this.onRemoveToy,onToyClick:this.onToyClick,onToyEdit:this.onToyEdit})]})}}]),n}(a.Component),ke={loadToys:je,addToy:fe,removeToy:ye,updateToy:me,setFilter:function(e){return function(){var t=Object(T.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_FILTER",filter:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},clearFilter:function(){return function(e){e({type:"SET_FILTER",filter:he.filter})}},showUserMsg:v,sortField:function(e){return function(){var t=Object(T.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SORT_FIELD",field:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Se=Object(d.b)((function(e){var t=e.toyModule;return{toys:t.toys,filter:t.filter,sort:t.sort}}),ke)(we),Ce=n(433),Me=n(188),Ee=n.n(Me),_e=n(80),De=n.n(_e),Ne=n(432),Be=n(441),Ae=(n(255),function(e){var t=e.reviews;return Object(b.jsx)("section",{className:"flex toy-review-list",children:t.map((function(e){return Object(b.jsx)(Fe,{review:e},e._id)}))})});function Fe(e){var t=e.review,n=t.author,a=t.title,r=t.body,o=t.createdAt;return Object(b.jsxs)(V.a,{children:[Object(b.jsx)(Ne.a,{avatar:Object(b.jsx)(Be.a,{"aria-label":"recipe",children:n.charAt(0).toUpperCase()}),title:a,subheader:Q()(o).format("MMMM Do YYYY")}),Object(b.jsx)(J.a,{children:Object(b.jsx)($.a,{variant:"body2",component:"p",children:r})})]})}var Re=n(139),Le=n.n(Re),Ue=(n(256),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isExpanded:!1},e.onTogglePopup=function(){e.setState((function(e){return{isExpanded:!e.isExpanded}}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state.isExpanded,t=this.props.icon;return Object(b.jsxs)("section",{className:"popup",children:[Object(b.jsx)(te.a,{className:"icon",onClick:this.onTogglePopup,children:e?Object(b.jsx)(Le.a,{}):t}),e&&Object(b.jsxs)("div",{className:"content flex column",children:[Object(b.jsx)("header",{children:Object(b.jsx)(te.a,{className:"btn-close",onClick:this.onTogglePopup,children:Object(b.jsx)(Le.a,{})})}),Object(b.jsx)("main",{className:"grow",children:this.props.children}),Object(b.jsx)("footer",{})]})]})}}]),n}(a.Component)),Ie=n(22),Pe=(n(257),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={messages:[{text:"Hey there!",from:"Bot"}]},e.onSend=function(t){t.preventDefault();var n={text:t.target.text.value,from:"Puki"},a={text:"Hello Puki, nice to meet you.",from:"Bot"};e.addMessage(n,(function(){return setTimeout(e.addMessage,500,a)})),t.target.reset()},e.addMessage=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e.setState((function(e){return{messages:[].concat(Object(Ie.a)(e.messages),[t])}}),n)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state.messages;return Object(b.jsxs)("section",{className:"chat-app flex column space-between",children:[Object(b.jsx)("div",{className:"messages",children:e.map((function(e,t){return Object(b.jsxs)("div",{className:"message",children:[Object(b.jsxs)("span",{className:"from",children:[e.from,":"]})," ",e.text]},t)}))}),Object(b.jsxs)("form",{className:"send flex",onSubmit:this.onSend,children:[Object(b.jsx)(S.a,{name:"text",variant:"outlined",fullWidth:!0}),Object(b.jsx)(j.a,{type:"submit",variant:"outlined",children:"Send"})]})]})}}]),n}(a.Component)),We=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isEditMode:!1},e.loadToy=function(){var t=e.props.match.params.id;e.props.getToyById(t)},e.onRemoveToy=function(t){e.props.removeToy(t),e.props.showUserMsg("Toy removed"),e.props.history.push("/toy")},e.onToyEdit=function(t){var n=t._id;e.props.history.push("/toy/".concat(n,"/edit"))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadToy()}},{key:"render",value:function(){if(!this.props.toys||!this.props.toys.length)return Object(b.jsx)(q.a,{});var e=this.props.toys[0],t=e.name,n=e.description,a=e.price,r=e.labels,o=e.inStock,s=e.reviews;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("main",{className:De.a["main-container"],children:[Object(b.jsxs)(Ce.a,{className:De.a["toy-details"],maxWidth:"md",children:[Object(b.jsxs)($.a,{variant:"h3",gutterBottom:!0,style:{fontWeight:"bold"},children:[t," ",!o&&" - Out of Stock!"]}),Object(b.jsx)(ee,{labels:r}),Object(b.jsx)("img",{className:De.a["toy-img"],src:"https://material-ui.com/static/images/cards/contemplative-reptile.jpg",alt:"",width:"100%"}),Object(b.jsx)($.a,{variant:"body1",gutterBottom:!0,children:n}),Object(b.jsxs)($.a,{variant:"h6",children:["Price: ",a,"$"]}),Object(b.jsx)("section",{className:De.a["toy-actions"],children:Object(b.jsx)(se,{toy:e,onToyEdit:this.onToyEdit,onRemoveToy:this.onRemoveToy})})]}),Object(b.jsxs)(Ce.a,{className:De.a["toy-reviews"],maxWidth:"md",children:[Object(b.jsx)($.a,{variant:"h5",gutterBottom:!0,style:{fontWeight:"bold"},children:"Reviews"}),Object(b.jsx)(Ae,{reviews:s})]})]}),Object(b.jsx)(Ue,{icon:Object(b.jsx)(Ee.a,{}),children:Object(b.jsx)(Pe,{})})]})}}]),n}(a.Component),Ye={getToyById:be,removeToy:ye,showUserMsg:v},qe=Object(d.b)((function(e){return{toys:e.toyModule.toys}}),Ye)(We),He=n(142),Ve={getRandomColor:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}};n(360);var ze=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={labelChartData:null,yearChartData:null},e.createChartData=function(e){var t={labels:[],datasets:[{data:[],backgroundColor:[]}]};for(var n in e){var a=e[n];t.labels.push(n),t.datasets[0].data.push(a),t.datasets[0].backgroundColor.push(Ve.getRandomColor())}return t},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(T.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadToys();case 2:t=this.props.toys,n=this.createChartData(B.getToysLabelMap(t)),a=this.createChartData(B.getToysYearMap(t)),this.setState({labelChartData:n,yearChartData:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.labelChartData,n=e.yearChartData;return Object(b.jsxs)(Ce.a,{className:"toy-dashboard",maxWidth:"md",children:[Object(b.jsx)($.a,{variant:"h3",gutterBottom:!0,style:{fontWeight:"500"},children:"Dashboard"}),Object(b.jsxs)("div",{className:"charts-container flex wrap",children:[Object(b.jsxs)("section",{className:"chart",children:[Object(b.jsx)($.a,{variant:"h5",gutterBottom:!0,align:"center",children:"Toy Labels"}),Object(b.jsx)(He.a,{data:t})]}),Object(b.jsxs)("section",{className:"chart",children:[Object(b.jsx)($.a,{variant:"h5",gutterBottom:!0,align:"center",children:"Toy Years"}),Object(b.jsx)(He.a,{data:n})]})]})]})}}]),n}(a.Component),Ge={loadToys:je},Je=Object(d.b)((function(e){return{toys:e.toyModule.toys}}),Ge)(ze),Xe=n(91),$e=n(198),Ke=(n(378),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).initialState={isEdit:!1,allLabels:[],formInit:{name:"The cool doll",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate facere iusto sapiente ad, est animi quidem ex numquam? Quis quibusdam ratione qui provident sequi quasi voluptate, velit commodi illo minima?",price:150,inStock:!0},labels:[]},e.state=e.initialState,e.loadPageData=Object(T.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.match.path,e.loadLabels(),n.includes("/edit")?(e.loadToy(),e.setState({isEdit:!0},e.formSettings())):e.setState(e.initialState,e.formSettings());case 3:case"end":return t.stop()}}),t)}))),e.loadToy=Object(T.a)(g.a.mark((function t(){var n,a,r,o,s,c,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.id,t.next=3,e.props.getToyById(n);case 3:a=e.props.toys[0],r=a.name,o=a.description,s=a.price,c=a.inStock,i=a.labels,e.setState({formInit:{name:r,description:o,price:s,inStock:c},labels:i});case 5:case"end":return t.stop()}}),t)}))),e.loadLabels=Object(T.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.getLabels();case 2:n=t.sent.map((function(e){return{label:e,value:e}})),e.setState({allLabels:n});case 4:case"end":return t.stop()}}),t)}))),e.formSettings=function(){e.validationSchema=Xe.b({name:Xe.c("Enter Name").required("Name is required").min(2,"Name must be 2 letters or longer"),description:Xe.c("Enter Description").required("Description is required").min(10,"Description must be 10 letters or longer"),price:Xe.a("Enter Price").required("Price is required")})},e.handleLabelChange=function(t){var n=t.map((function(e){return e.value}));e.setState({labels:n})},e.onAddToy=function(){var t=Object(T.a)(g.a.mark((function t(n){var a,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.labels,r=Object(ue.a)(Object(ue.a)({},n),{},{labels:a}),e.props.showUserMsg("Adding.."),t.next=5,e.props.addToy(r);case 5:e.props.showUserMsg("Toy Added"),setTimeout((function(){return e.props.history.push("/toy")}),500);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSaveChanges=function(){var t=Object(T.a)(g.a.mark((function t(n){var a,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.labels,r=e.props.toys[0],r=Object(ue.a)(Object(ue.a)(Object(ue.a)({},r),n),{},{labels:a}),e.props.showUserMsg("Updating.."),t.next=6,e.props.updateToy(r);case 6:e.props.showUserMsg("Toy details updated"),setTimeout((function(){return e.props.history.push("/toy/".concat(r._id))}),500);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(t){e.state.isEdit?e.onSaveChanges(t):e.onAddToy(t)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadPageData()}},{key:"componentDidUpdate",value:function(e){this.props.match.path!==e.match.path&&this.loadPageData()}},{key:"render",value:function(){var e=this,t=this.state,n=t.allLabels,a=t.isEdit,o=t.labels;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(Ce.a,{className:"toy-add",maxWidth:"md",children:[Object(b.jsx)($.a,{variant:"h3",gutterBottom:!0,children:a?"Edit Toy":"Add Toy"}),Object(b.jsx)($e.a,{enableReinitialize:!0,initialValues:this.state.formInit,validationSchema:this.validationSchema,onSubmit:this.onSubmit,children:function(t){var s=t.values,c=t.errors,i=t.touched,l=t.handleChange,u=t.handleSubmit;return Object(b.jsxs)("form",{onSubmit:u,children:[Object(b.jsx)(S.a,{fullWidth:!0,variant:"outlined",label:"Toy Name",value:s.name,error:i.name&&Boolean(c.name),helperText:i.name&&c.name,name:"name",onChange:l}),Object(b.jsx)(S.a,{fullWidth:!0,variant:"outlined",label:"Toy Description",multiline:!0,value:s.description,error:i.description&&Boolean(c.description),helperText:i.description&&c.description,name:"description",onChange:l}),Object(b.jsx)(S.a,{fullWidth:!0,variant:"outlined",label:"Price",type:"number",value:s.price,error:i.price&&Boolean(c.price),helperText:i.price&&c.price,name:"price",onChange:l}),Object(b.jsxs)(S.a,{fullWidth:!0,select:!0,variant:"outlined",label:"Availability",value:s.inStock,error:i.inStock&&Boolean(c.inStock),helperText:i.inStock&&c.inStock,name:"inStock",onChange:l,children:[Object(b.jsx)(C.a,{value:!0,children:"In stock"}),Object(b.jsx)(C.a,{value:!1,children:"Out of stock"})]}),Object(b.jsxs)("div",{className:"labels",children:[n&&o.length?Object(b.jsx)(_.a,{placeholder:"Labels",options:n,isMulti:!0,onChange:e.handleLabelChange,defaultValue:o.map((function(e){return{label:e,value:e}}))}):Object(b.jsx)(r.a.Fragment,{}),n&&!o.length&&Object(b.jsx)(_.a,{placeholder:"Labels",options:n,isMulti:!0,onChange:e.handleLabelChange})]}),Object(b.jsx)(j.a,{type:"submit",children:a?"Edit Toy":"Add Toy"})]})}})]})})}}]),n}(a.Component)),Qe={getToyById:be,addToy:fe,updateToy:me,showUserMsg:v},Ze=Object(d.b)((function(e){return{toys:e.toyModule.toys}}),Qe)(Ke),et=n(199),tt=(n(379),function(e){var t=e.name;return Object(b.jsx)("div",{className:"branch-marker",children:Object(b.jsxs)("span",{children:[t," Branch"]})})}),nt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).branches=[{name:"Tel Aviv",lat:32.0853,lng:34.7818},{name:"Beirut",lat:33.8938,lng:35.5018},{name:"Cairo",lat:30.0444,lng:31.2357}],e.state={currBranch:e.branches[0]},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.state.currBranch,n=(t.name,t.lat),a=t.lng;return Object(b.jsxs)(Ce.a,{maxWidth:"md",children:[Object(b.jsx)($.a,{variant:"h3",gutterBottom:!0,style:{fontWeight:"500"},children:"About Us"}),Object(b.jsx)($.a,{variant:"subtitle1",gutterBottom:!0,children:"We are proud to be announced as the best toy store in the middle east for the third year in a row."}),Object(b.jsx)($.a,{variant:"h5",gutterBottom:!0,align:"center",style:{marginTop:"40px"},children:"Our Branches"}),Object(b.jsx)("section",{className:"branches flex justify-center",style:{marginBottom:"40px"},children:this.branches.map((function(t){return Object(b.jsx)(j.a,{onClick:function(){return e.setState({currBranch:t})},children:t.name},t.name)}))}),Object(b.jsx)("div",{style:{height:"500px",width:"100%"},children:Object(b.jsx)(et.a,{bootstrapURLKeys:{key:""},center:{lat:n,lng:a},defaultZoom:7,children:this.branches.map((function(e){return Object(b.jsx)(tt,{lat:e.lat,lng:e.lng,name:e.name},e.name)}))})})]})}}]),n}(a.Component),at=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.userMsg,n=e.hideUserMsg;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(p.a,{children:[Object(b.jsx)(f,{}),Object(b.jsx)(O,{userMsg:t,hideUserMsg:n}),Object(b.jsxs)(h.c,{children:[Object(b.jsx)(h.a,{path:"/toy/about",component:nt}),Object(b.jsx)(h.a,{path:"/toy/dashboard",component:Je}),Object(b.jsx)(h.a,{path:"/toy/add",component:Ze}),Object(b.jsx)(h.a,{path:"/toy/:id/edit",component:Ze}),Object(b.jsx)(h.a,{path:"/toy/:id",component:qe}),Object(b.jsx)(h.a,{path:"/",component:Se})]})]})})}}]),n}(a.Component),rt={hideUserMsg:function(){return function(e){e({type:"HIDE_USER_MSG"})}}},ot=Object(d.b)((function(e){return{userMsg:e.generalModule.userMsg}}),rt)(at),st=n(92),ct=n(197),it={userMsg:{isOpen:!1,type:"success",msg:""}};var lt={user:null};var ut=Object(st.b)({toyModule:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,n=arguments.length>1?arguments[1]:void 0,a=pe.a.cloneDeep(t);switch(n.type){case"SET_TOYS":a.toys=n.toys;break;case"REMOVE_TOY":-1!==(e=a.toys.findIndex((function(e){return e._id===n.id})))&&a.toys.splice(e,1);break;case"UPDATE_TOY":-1!==(e=a.toys.findIndex((function(e){return e._id===n.toy._id})))&&(a.toys[e]=n.toy);break;case"SET_FILTER":return Object(ue.a)(Object(ue.a)({},t),{},{filter:Object(ue.a)(Object(ue.a)({},t.filter),n.filter)});case"SORT_FIELD":var r=t.sort.type,o=1===r?-1:1;return Object(ue.a)(Object(ue.a)({},t),{},{sort:{field:n.field,type:o}})}return a},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0,n=pe.a.cloneDeep(e);switch(t.type){case"UPDATE_USER":n.user=t.user}return n},generalModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0,n=pe.a.cloneDeep(e);switch(t.type){case"SHOW_USER_MSG":n.userMsg.isOpen=!0,n.userMsg.msg=t.msg||e.userMsg;break;case"HIDE_USER_MSG":n.userMsg.isOpen=!1}return n}}),dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||st.c,pt=Object(st.d)(ut,dt(Object(st.a)(ct.a)));s.a.render(Object(b.jsx)(d.a,{store:pt,children:Object(b.jsx)(ot,{})}),document.getElementById("root"))},80:function(e,t,n){e.exports={"main-container":"toy-details_main-container__7UcRG","toy-details":"toy-details_toy-details__2gu-6","toy-img":"toy-details_toy-img__3lfgw","toy-actions":"toy-details_toy-actions__1WaDt","toy-reviews":"toy-details_toy-reviews__1iJbe"}}},[[380,1,2]]]);
//# sourceMappingURL=main.46f34409.chunk.js.map